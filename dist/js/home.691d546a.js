(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{"04d3":function(r,t,n){},"09fa":function(r,t,n){var e=n("4588"),o=n("9def");r.exports=function(r){if(void 0===r)return 0;var t=e(r),n=o(t);if(t!==n)throw RangeError("Wrong length!");return n}},"0a49":function(r,t,n){var e=n("9b43"),o=n("626a"),i=n("4bf8"),a=n("9def"),f=n("cd1c");r.exports=function(r,t){var n=1==r,u=2==r,c=3==r,l=4==r,s=6==r,d=5==r||s,v=t||f;return function(t,f,h){for(var m,p,y=i(t),g=o(y),E=e(f,h,3),w=a(g.length),x=0,A=n?v(t,w):u?v(t,0):void 0;w>x;x++)if((d||x in g)&&(m=g[x],p=E(m,x,y),r))if(n)A[x]=p;else if(p)switch(r){case 3:return!0;case 5:return m;case 6:return x;case 2:A.push(m)}else if(l)return!1;return s?-1:c||l?l:A}}},"0f88":function(r,t,n){var e,o=n("7726"),i=n("32e9"),a=n("ca5a"),f=a("typed_array"),u=a("view"),c=!(!o.ArrayBuffer||!o.DataView),l=c,s=0,d=9,v="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(s<d)(e=o[v[s++]])?(i(e.prototype,f,!0),i(e.prototype,u,!0)):l=!1;r.exports={ABV:c,CONSTR:l,TYPED:f,VIEW:u}},1169:function(r,t,n){var e=n("2d95");r.exports=Array.isArray||function(r){return"Array"==e(r)}},"2f21":function(r,t,n){"use strict";var e=n("79e5");r.exports=function(r,t){return!!r&&e((function(){t?r.call(null,(function(){}),1):r.call(null)}))}},"36bd":function(r,t,n){"use strict";var e=n("4bf8"),o=n("77f1"),i=n("9def");r.exports=function(r){var t=e(this),n=i(t.length),a=arguments.length,f=o(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:o(u,n);while(c>f)t[f++]=r;return t}},"55dd":function(r,t,n){"use strict";var e=n("5ca1"),o=n("d8e8"),i=n("4bf8"),a=n("79e5"),f=[].sort,u=[1,2,3];e(e.P+e.F*(a((function(){u.sort(void 0)}))||!a((function(){u.sort(null)}))||!n("2f21")(f)),"Array",{sort:function(r){return void 0===r?f.call(i(this)):f.call(i(this),o(r))}})},"63d9":function(r,t,n){n("ec30")("Float32",4,(function(r){return function(t,n,e){return r(this,t,n,e)}}))},6511:function(r,t,n){"use strict";n.r(t);var e=function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("div",{staticClass:"home"},[e("canvas",{attrs:{id:"sakura"}}),e("div",{staticClass:"content"},[e("div",{staticClass:"home-header"},[e("router-link",{staticClass:"link",attrs:{to:"/home"}},[e("img",{staticClass:"home-logo",attrs:{src:n("ab9e"),alt:"anzhou logo"}})])],1)])])},o=[],i=(n("55dd"),n("63d9"),n("d225")),a=n("b0b4"),f=n("308d"),u=n("6bb5"),c=n("4e2b"),l=n("9ab4"),s=n("60a3"),d=function(r){function t(){return Object(i["a"])(this,t),Object(f["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(c["a"])(t,r),Object(a["a"])(t,[{key:"mounted",value:function(){"http:"===document.location.protocol&&this.$message({message:"本网站已经配置了 https，为了有更好的体验效果，请把地址前缀换成 https 哦",type:"warning",duration:3e3});var r="\n    uniform mat4 uProjection;\n    uniform mat4 uModelview;\n    uniform vec3 uResolution;\n    uniform vec3 uOffset;\n    uniform vec3 uDOF;  //x:focus distance, y:focus radius, z:max radius\n    uniform vec3 uFade; //x:start distance, y:half distance, z:near fade start\n\n    attribute vec3 aPosition;\n    attribute vec3 aEuler;\n    attribute vec2 aMisc; //x:size, y:fade\n\n    varying vec3 pposition;\n    varying float psize;\n    varying float palpha;\n    varying float pdist;\n\n    //varying mat3 rotMat;\n    varying vec3 normX;\n    varying vec3 normY;\n    varying vec3 normZ;\n    varying vec3 normal;\n\n    varying float diffuse;\n    varying float specular;\n    varying float rstop;\n    varying float distancefade;\n\n    void main(void) {\n        // Projection is based on vertical angle\n        vec4 pos = uModelview * vec4(aPosition + uOffset, 1.0);\n        gl_Position = uProjection * pos;\n        gl_PointSize = aMisc.x * uProjection[1][1] / -pos.z * uResolution.y * 0.5;\n        \n        pposition = pos.xyz;\n        psize = aMisc.x;\n        pdist = length(pos.xyz);\n        palpha = smoothstep(0.0, 1.0, (pdist - 0.1) / uFade.z);\n        \n        vec3 elrsn = sin(aEuler);\n        vec3 elrcs = cos(aEuler);\n        mat3 rotx = mat3(\n            1.0, 0.0, 0.0,\n            0.0, elrcs.x, elrsn.x,\n            0.0, -elrsn.x, elrcs.x\n        );\n        mat3 roty = mat3(\n            elrcs.y, 0.0, -elrsn.y,\n            0.0, 1.0, 0.0,\n            elrsn.y, 0.0, elrcs.y\n        );\n        mat3 rotz = mat3(\n            elrcs.z, elrsn.z, 0.0, \n            -elrsn.z, elrcs.z, 0.0,\n            0.0, 0.0, 1.0\n        );\n        mat3 rotmat = rotx * roty * rotz;\n        normal = rotmat[2];\n        \n        mat3 trrotm = mat3(\n            rotmat[0][0], rotmat[1][0], rotmat[2][0],\n            rotmat[0][1], rotmat[1][1], rotmat[2][1],\n            rotmat[0][2], rotmat[1][2], rotmat[2][2]\n        );\n        normX = trrotm[0];\n        normY = trrotm[1];\n        normZ = trrotm[2];\n        \n        const vec3 lit = vec3(0.6917144638660746, 0.6917144638660746, -0.20751433915982237);\n        \n        float tmpdfs = dot(lit, normal);\n        if(tmpdfs < 0.0) {\n            normal = -normal;\n            tmpdfs = dot(lit, normal);\n        }\n        diffuse = 0.4 + tmpdfs;\n        \n        vec3 eyev = normalize(-pos.xyz);\n        if(dot(eyev, normal) > 0.0) {\n            vec3 hv = normalize(eyev + lit);\n            specular = pow(max(dot(hv, normal), 0.0), 20.0);\n        }\n        else {\n            specular = 0.0;\n        }\n        \n        rstop = clamp((abs(pdist - uDOF.x) - uDOF.y) / uDOF.z, 0.0, 1.0);\n        rstop = pow(rstop, 0.5);\n        //-0.69315 = ln(0.5)\n        distancefade = min(1.0, exp((uFade.x - pdist) * 0.69315 / uFade.y));\n    }",t="\n    #ifdef GL_ES\n    //precision mediump float;\n    precision highp float;\n    #endif\n\n    uniform vec3 uDOF;  //x:focus distance, y:focus radius, z:max radius\n    uniform vec3 uFade; //x:start distance, y:half distance, z:near fade start\n\n    const vec3 fadeCol = vec3(0.08, 0.03, 0.06);\n\n    varying vec3 pposition;\n    varying float psize;\n    varying float palpha;\n    varying float pdist;\n\n    //varying mat3 rotMat;\n    varying vec3 normX;\n    varying vec3 normY;\n    varying vec3 normZ;\n    varying vec3 normal;\n\n    varying float diffuse;\n    varying float specular;\n    varying float rstop;\n    varying float distancefade;\n\n    float ellipse(vec2 p, vec2 o, vec2 r) {\n        vec2 lp = (p - o) / r;\n        return length(lp) - 1.0;\n    }\n\n    void main(void) {\n        vec3 p = vec3(gl_PointCoord - vec2(0.5, 0.5), 0.0) * 2.0;\n        vec3 d = vec3(0.0, 0.0, -1.0);\n        float nd = normZ.z; //dot(-normZ, d);\n        if(abs(nd) < 0.0001) discard;\n        \n        float np = dot(normZ, p);\n        vec3 tp = p + d * np / nd;\n        vec2 coord = vec2(dot(normX, tp), dot(normY, tp));\n        \n        //angle = 15 degree\n        const float flwrsn = 0.258819045102521;\n        const float flwrcs = 0.965925826289068;\n        mat2 flwrm = mat2(flwrcs, -flwrsn, flwrsn, flwrcs);\n        vec2 flwrp = vec2(abs(coord.x), coord.y) * flwrm;\n        \n        float r;\n        if(flwrp.x < 0.0) {\n            r = ellipse(flwrp, vec2(0.065, 0.024) * 0.5, vec2(0.36, 0.96) * 0.5);\n        }\n        else {\n            r = ellipse(flwrp, vec2(0.065, 0.024) * 0.5, vec2(0.58, 0.96) * 0.5);\n        }\n        \n        if(r > rstop) discard;\n        \n        vec3 col = mix(vec3(1.0, 0.8, 0.75), vec3(1.0, 0.9, 0.87), r);\n        float grady = mix(0.0, 1.0, pow(coord.y * 0.5 + 0.5, 0.35));\n        col *= vec3(1.0, grady, grady);\n        col *= mix(0.8, 1.0, pow(abs(coord.x), 0.3));\n        col = col * diffuse + specular;\n        \n        col = mix(fadeCol, col, distancefade);\n        \n        float alpha = (rstop > 0.001)? (0.5 - r / (rstop * 2.0)) : 1.0;\n        alpha = smoothstep(0.0, 1.0, alpha) * palpha;\n        \n        gl_FragColor = vec4(col * 0.5, alpha);\n    }",n="\n    uniform vec3 uResolution;\n    attribute vec2 aPosition;\n\n    varying vec2 texCoord;\n    varying vec2 screenCoord;\n\n    void main(void) {\n        gl_Position = vec4(aPosition, 0.0, 1.0);\n        texCoord = aPosition.xy * 0.5 + vec2(0.5, 0.5);\n        screenCoord = aPosition.xy * vec2(uResolution.z, 1.0);\n    }",e="\n    #ifdef GL_ES\n    //precision mediump float;\n    precision highp float;\n    #endif\n\n    uniform vec2 uTimes;\n\n    varying vec2 texCoord;\n    varying vec2 screenCoord;\n\n    void main(void) {\n        vec3 col;\n        float c;\n        vec2 tmpv = texCoord * vec2(0.8, 1.0) - vec2(0.95, 1.0);\n        c = exp(-pow(length(tmpv) * 1.8, 2.0));\n        col = mix(vec3(0.02, 0.0, 0.03), vec3(0.96, 0.98, 1.0) * 1.5, c);\n        gl_FragColor = vec4(col * 0.5, 1.0);\n    }",o="\n    #ifdef GL_ES\n    //precision mediump float;\n    precision highp float;\n    #endif\n    uniform sampler2D uSrc;\n    uniform vec2 uDelta;\n\n    varying vec2 texCoord;\n    varying vec2 screenCoord;\n\n    void main(void) {\n        vec4 col = texture2D(uSrc, texCoord);\n        gl_FragColor = vec4(col.rgb * 2.0 - vec3(0.5), 1.0);\n    }",i="\n    #ifdef GL_ES\n    //precision mediump float;\n    precision highp float;\n    #endif\n    uniform sampler2D uSrc;\n    uniform vec2 uDelta;\n    uniform vec4 uBlurDir; //dir(x, y), stride(z, w)\n\n    varying vec2 texCoord;\n    varying vec2 screenCoord;\n\n    void main(void) {\n        vec4 col = texture2D(uSrc, texCoord);\n        col = col + texture2D(uSrc, texCoord + uBlurDir.xy * uDelta);\n        col = col + texture2D(uSrc, texCoord - uBlurDir.xy * uDelta);\n        col = col + texture2D(uSrc, texCoord + (uBlurDir.xy + uBlurDir.zw) * uDelta);\n        col = col + texture2D(uSrc, texCoord - (uBlurDir.xy + uBlurDir.zw) * uDelta);\n        gl_FragColor = col / 5.0;\n    }",a="\n    uniform vec3 uResolution;\n    attribute vec2 aPosition;\n    varying vec2 texCoord;\n    varying vec2 screenCoord;\n    void main(void) {\n        gl_Position = vec4(aPosition, 0.0, 1.0);\n        texCoord = aPosition.xy * 0.5 + vec2(0.5, 0.5);\n        screenCoord = aPosition.xy * vec2(uResolution.z, 1.0);\n    }",f="\n    #ifdef GL_ES\n    //precision mediump float;\n    precision highp float;\n    #endif\n    uniform sampler2D uSrc;\n    uniform sampler2D uBloom;\n    uniform vec2 uDelta;\n    varying vec2 texCoord;\n    varying vec2 screenCoord;\n    void main(void) {\n        vec4 srccol = texture2D(uSrc, texCoord) * 2.0;\n        vec4 bloomcol = texture2D(uBloom, texCoord);\n        vec4 col;\n        col = srccol + bloomcol * (vec4(1.0) + srccol);\n        col *= smoothstep(1.0, 0.0, pow(length((texCoord - vec2(0.5)) * 2.0), 1.2) * 0.5);\n        col = pow(col, vec4(0.45454545454545)); //(1.0 / 2.2)\n        \n        gl_FragColor = vec4(col.rgb, 1.0);\n        gl_FragColor.a = 1.0;\n    }",u={},c={};u.create=function(r,t,n){return{x:r,y:t,z:n}},u.dot=function(r,t){return r.x*t.x+r.y*t.y+r.z*t.z},u.cross=function(r,t,n){r.x=t.y*n.z-t.z*n.y,r.y=t.z*n.x-t.x*n.z,r.z=t.x*n.y-t.y*n.x},u.normalize=function(r){var t=r.x*r.x+r.y*r.y+r.z*r.z;t>1e-5&&(t=1/Math.sqrt(t),r.x*=t,r.y*=t,r.z*=t)},u.arrayForm=function(r){return r.array?(r.array[0]=r.x,r.array[1]=r.y,r.array[2]=r.z):r.array=new Float32Array([r.x,r.y,r.z]),r.array},c.createIdentity=function(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},c.loadProjection=function(r,t,n,e,o){var i=e*Math.tan(n*Math.PI/180*.5)*2,a=i*t;r[0]=2*e/a,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=2*e/i,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=-(o+e)/(o-e),r[11]=-1,r[12]=0,r[13]=0,r[14]=-2*o*e/(o-e),r[15]=0},c.loadLookAt=function(r,t,n,e){var o=u.create(t.x-n.x,t.y-n.y,t.z-n.z);u.normalize(o);var i=u.create(1,0,0);u.cross(i,e,o),u.normalize(i);var a=u.create(1,0,0);u.cross(a,o,i),u.normalize(a),r[0]=i.x,r[1]=a.x,r[2]=o.x,r[3]=0,r[4]=i.y,r[5]=a.y,r[6]=o.y,r[7]=0,r[8]=i.z,r[9]=a.z,r[10]=o.z,r[11]=0,r[12]=-(t.x*r[0]+t.y*r[4]+t.z*r[8]),r[13]=-(t.x*r[1]+t.y*r[5]+t.z*r[9]),r[14]=-(t.x*r[2]+t.y*r[6]+t.z*r[10]),r[15]=1};var l,s={start:0,prev:0,delta:0,elapsed:0},d={width:0,height:0,aspect:1,array:new Float32Array(3),halfWidth:0,halfHeight:0,halfArray:new Float32Array(3)};function v(r){l.deleteFramebuffer(r.frameBuffer),l.deleteRenderbuffer(r.renderBuffer),l.deleteTexture(r.texture)}function h(r,t){var n={width:r,height:t,sizeArray:new Float32Array([r,t,r/t]),dtxArray:new Float32Array([1/r,1/t])};return n.frameBuffer=l.createFramebuffer(),n.renderBuffer=l.createRenderbuffer(),n.texture=l.createTexture(),l.bindTexture(l.TEXTURE_2D,n.texture),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,r,t,0,l.RGBA,l.UNSIGNED_BYTE,null),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.LINEAR),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR),l.bindFramebuffer(l.FRAMEBUFFER,n.frameBuffer),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,n.texture,0),l.bindRenderbuffer(l.RENDERBUFFER,n.renderBuffer),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_COMPONENT16,r,t),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_ATTACHMENT,l.RENDERBUFFER,n.renderBuffer),l.bindTexture(l.TEXTURE_2D,null),l.bindRenderbuffer(l.RENDERBUFFER,null),l.bindFramebuffer(l.FRAMEBUFFER,null),n}function m(r,t){var n=l.createShader(r);if(l.shaderSource(n,t),l.compileShader(n),!l.getShaderParameter(n,l.COMPILE_STATUS)){var e=l.getShaderInfoLog(n);return l.deleteShader(n),console.error(e),null}return n}function p(r,t,n,e){var o=m(l.VERTEX_SHADER,r),i=m(l.FRAGMENT_SHADER,t);if(null==o||null==i)return null;var a=l.createProgram();if(l.attachShader(a,o),l.attachShader(a,i),l.deleteShader(o),l.deleteShader(i),l.linkProgram(a),!l.getProgramParameter(a,l.LINK_STATUS)){var f=l.getProgramInfoLog(a);return console.error(f),null}if(n){a.uniforms={};for(var u=0;u<n.length;u++)a.uniforms[n[u]]=l.getUniformLocation(a,n[u])}if(e){a.attributes={};for(var c=0;c<e.length;c++){var s=e[c];a.attributes[s]=l.getAttribLocation(a,s)}}return a}function y(r){for(var t in l.useProgram(r),r.attributes)l.enableVertexAttribArray(r.attributes[t])}function g(r){for(var t in r.attributes)l.disableVertexAttribArray(r.attributes[t]);l.useProgram(null)}d.setSize=function(r,t){d.width=r,d.height=t,d.aspect=d.width/d.height,d.array[0]=d.width,d.array[1]=d.height,d.array[2]=d.aspect,d.halfWidth=Math.floor(r/2),d.halfHeight=Math.floor(t/2),d.halfArray[0]=d.halfWidth,d.halfArray[1]=d.halfHeight,d.halfArray[2]=d.halfWidth/d.halfHeight};var E={angle:60,nearfar:new Float32Array([.1,100]),matrix:c.createIdentity()},w={position:u.create(0,0,100),lookat:u.create(0,0,0),up:u.create(0,1,0),dof:u.create(10,4,8),matrix:c.createIdentity()},x={},A=!1,b=function(){this.velocity=new Array(3),this.rotation=new Array(3),this.position=new Array(3),this.euler=new Array(3),this.size=1,this.alpha=1,this.zkey=0};function R(){var n=l.getParameter(l.ALIASED_POINT_SIZE_RANGE);d.pointSize={min:n[0],max:n[1]};var e=r,o=t;x.program=p(e,o,["uProjection","uModelview","uResolution","uOffset","uDOF","uFade"],["aPosition","aEuler","aMisc"]),y(x.program),x.offset=new Float32Array([0,0,0]),x.fader=u.create(0,10,0),x.numFlowers=1600,x.particles=new Array(x.numFlowers),x.dataArray=new Float32Array(8*x.numFlowers),x.positionArrayOffset=0,x.eulerArrayOffset=3*x.numFlowers,x.miscArrayOffset=6*x.numFlowers,x.buffer=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,x.buffer),l.bufferData(l.ARRAY_BUFFER,x.dataArray,l.DYNAMIC_DRAW),l.bindBuffer(l.ARRAY_BUFFER,null),g(x.program);for(var i=0;i<x.numFlowers;i++)x.particles[i]=new b}function F(){x.area=u.create(20,20,20),x.area.x=x.area.y*d.aspect,x.fader.x=10,x.fader.y=x.area.z,x.fader.z=.1;for(var r=2*Math.PI,t=u.create(0,0,0),n=0,e=function(){return 2*Math.random()-1},o=0;o<x.numFlowers;o++){var i=x.particles[o];t.x=.3*e()+.8,t.y=.2*e()-1,t.z=.3*e()+.5,u.normalize(t),n=2+1*Math.random(),i.setVelocity(t.x*n,t.y*n,t.z*n),i.setRotation(e()*r*.5,e()*r*.5,e()*r*.5),i.setPosition(e()*x.area.x,e()*x.area.y,e()*x.area.z),i.setEulerAngles(Math.random()*Math.PI*2,Math.random()*Math.PI*2,Math.random()*Math.PI*2),i.setSize(.9+.1*Math.random())}}function T(){for(var r=2*Math.PI,t=function(r,t,n){Math.abs(r.position[t])-.5*r.size>n&&(r.position[t]>0?r.position[t]-=2*n:r.position[t]+=2*n)},n=function(t,n){t.euler[n]=t.euler[n]%r,t.euler[n]<0&&(t.euler[n]+=r)},e=0;e<x.numFlowers;e++){var o=x.particles[e];o.update(s.delta,s.elapsed),t(o,0,x.area.x),t(o,1,x.area.y),t(o,2,x.area.z),n(o,0),n(o,1),n(o,2),o.alpha=1,o.zkey=w.matrix[2]*o.position[0]+w.matrix[6]*o.position[1]+w.matrix[10]*o.position[2]+w.matrix[14]}x.particles.sort((function(r,t){return r.zkey-t.zkey}));for(var i=x.positionArrayOffset,a=x.eulerArrayOffset,f=x.miscArrayOffset,c=0;c<x.numFlowers;c++){var v=x.particles[c];x.dataArray[i]=v.position[0],x.dataArray[i+1]=v.position[1],x.dataArray[i+2]=v.position[2],i+=3,x.dataArray[a]=v.euler[0],x.dataArray[a+1]=v.euler[1],x.dataArray[a+2]=v.euler[2],a+=3,x.dataArray[f]=v.size,x.dataArray[f+1]=v.alpha,f+=2}l.enable(l.BLEND),l.blendFunc(l.SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA);var h=x.program;y(h),l.uniformMatrix4fv(h.uniforms.uProjection,!1,E.matrix),l.uniformMatrix4fv(h.uniforms.uModelview,!1,w.matrix),l.uniform3fv(h.uniforms.uResolution,d.array),l.uniform3fv(h.uniforms.uDOF,u.arrayForm(w.dof)),l.uniform3fv(h.uniforms.uFade,u.arrayForm(x.fader)),l.bindBuffer(l.ARRAY_BUFFER,x.buffer),l.bufferData(l.ARRAY_BUFFER,x.dataArray,l.DYNAMIC_DRAW),l.vertexAttribPointer(h.attributes.aPosition,3,l.FLOAT,!1,0,x.positionArrayOffset*Float32Array.BYTES_PER_ELEMENT),l.vertexAttribPointer(h.attributes.aEuler,3,l.FLOAT,!1,0,x.eulerArrayOffset*Float32Array.BYTES_PER_ELEMENT),l.vertexAttribPointer(h.attributes.aMisc,2,l.FLOAT,!1,0,x.miscArrayOffset*Float32Array.BYTES_PER_ELEMENT);for(var m=1;m<2;m++){var p=-2*m;x.offset[0]=-1*x.area.x,x.offset[1]=-1*x.area.y,x.offset[2]=x.area.z*p,l.uniform3fv(h.uniforms.uOffset,x.offset),l.drawArrays(l.POINT,0,x.numFlowers),x.offset[0]=-1*x.area.x,x.offset[1]=1*x.area.y,x.offset[2]=x.area.z*p,l.uniform3fv(h.uniforms.uOffset,x.offset),l.drawArrays(l.POINT,0,x.numFlowers),x.offset[0]=1*x.area.x,x.offset[1]=-1*x.area.y,x.offset[2]=x.area.z*p,l.uniform3fv(h.uniforms.uOffset,x.offset),l.drawArrays(l.POINT,0,x.numFlowers),x.offset[0]=1*x.area.x,x.offset[1]=1*x.area.y,x.offset[2]=x.area.z*p,l.uniform3fv(h.uniforms.uOffset,x.offset),l.drawArrays(l.POINT,0,x.numFlowers)}x.offset[0]=0,x.offset[1]=0,x.offset[2]=0,l.uniform3fv(h.uniforms.uOffset,x.offset),l.drawArrays(l.POINT,0,x.numFlowers),l.bindBuffer(l.ARRAY_BUFFER,null),g(h),l.enable(l.DEPTH_TEST),l.disable(l.BLEND)}function _(r,t,n,e){var o={},i=["uResolution","uSrc","uDelta"];n&&(i=i.concat(n));var a=["aPosition"];return e&&(a=a.concat(e)),o.program=p(r,t,i,a),y(o.program),o.dataArray=new Float32Array([-1,-1,1,-1,-1,1,1,1]),o.buffer=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,o.buffer),l.bufferData(l.ARRAY_BUFFER,o.dataArray,l.STATIC_DRAW),l.bindBuffer(l.ARRAY_BUFFER,null),g(o.program),o}function B(r,t){var n=r.program;y(n),l.uniform3fv(n.uniforms.uResolution,d.array),null!=t&&(l.uniform2fv(n.uniforms.uDelta,t.dtxArray),l.uniform1i(n.uniforms.uSrc,0),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,t.texture))}function P(r){l.bindBuffer(l.ARRAY_BUFFER,r.buffer),l.vertexAttribPointer(r.program.attributes.aPosition,2,l.FLOAT,!1,0,0),l.drawArrays(l.TRIANGLE_STRIP,0,4)}function D(r){g(r.program)}b.prototype.setVelocity=function(r,t,n){this.velocity[0]=r,this.velocity[1]=t,this.velocity[2]=n},b.prototype.setRotation=function(r,t,n){this.rotation[0]=r,this.rotation[1]=t,this.rotation[2]=n},b.prototype.setPosition=function(r,t,n){this.position[0]=r,this.position[1]=t,this.position[2]=n},b.prototype.setEulerAngles=function(r,t,n){this.euler[0]=r,this.euler[1]=t,this.euler[2]=n},b.prototype.setSize=function(r){this.size=r},b.prototype.update=function(r,t){this.position[0]+=this.velocity[0]*r,this.position[1]+=this.velocity[1]*r,this.position[2]+=this.velocity[2]*r,this.euler[0]+=this.rotation[0]*r,this.euler[1]+=this.rotation[1]*r,this.euler[2]+=this.rotation[2]*r};var z={};function S(){var r,t,u=n;t=e,z.sceneBg=_(u,t,["uTimes"],null),t=o,z.mkBrightBuf=_(u,t,null,null),t=i,z.dirBlur=_(u,t,["uBlurDir"],null),r=a,t=f,z.finalComp=_(r,t,["uBloom"],null)}function C(){}function I(){}function O(){l.disable(l.DEPTH_TEST),B(z.sceneBg,null),l.uniform2f(z.sceneBg.program.uniforms.uTimes,s.elapsed,s.delta),P(z.sceneBg),D(z.sceneBg),l.enable(l.DEPTH_TEST)}function M(){}function U(){}function L(){l.enable(l.TEXTURE_2D),l.disable(l.DEPTH_TEST);var r=function(r,t){l.bindFramebuffer(l.FRAMEBUFFER,r.frameBuffer),l.viewport(0,0,r.width,r.height),t&&(l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT))};r(d.wHalfRT0,!0),B(z.mkBrightBuf,d.mainRT),P(z.mkBrightBuf),D(z.mkBrightBuf);for(var t=0;t<2;t++){var n=1.5+1*t,e=2+1*t;r(d.wHalfRT1,!0),B(z.dirBlur,d.wHalfRT0),l.uniform4f(z.dirBlur.program.uniforms.uBlurDir,n,0,e,0),P(z.dirBlur),D(z.dirBlur),r(d.wHalfRT0,!0),B(z.dirBlur,d.wHalfRT1),l.uniform4f(z.dirBlur.program.uniforms.uBlurDir,0,n,0,e),P(z.dirBlur),D(z.dirBlur)}l.bindFramebuffer(l.FRAMEBUFFER,null),l.viewport(0,0,d.width,d.height),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),B(z.finalComp,d.mainRT),l.uniform1i(z.finalComp.program.uniforms.uBloom,1),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,d.wHalfRT0.texture),P(z.finalComp),D(z.finalComp),l.enable(l.DEPTH_TEST)}function N(){S(),C(),R(),M(),A=!0}function H(){I(),F(),U(),w.position.z=x.area.z+E.nearfar[0],E.angle=180*Math.atan2(x.area.y,w.position.z+x.area.z)/Math.PI*2,c.loadProjection(E.matrix,d.aspect,E.angle,E.nearfar[0],E.nearfar[1])}function W(){c.loadLookAt(w.matrix,w.position,w.lookat,w.up),l.enable(l.DEPTH_TEST),l.bindFramebuffer(l.FRAMEBUFFER,d.mainRT.frameBuffer),l.viewport(0,0,d.mainRT.width,d.mainRT.height),l.clearColor(.005,0,.05,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),O(),T(),L()}function Y(r){V(document.getElementById("sakura")),k(),A&&H()}function k(){d.setSize(l.canvas.width,l.canvas.height),l.clearColor(.2,.2,.5,1),l.viewport(0,0,d.width,d.height);var r=function(r,t,n){var e=d[r];e&&v(e),d[r]=h(t,n)};r("mainRT",d.width,d.height),r("wFullRT0",d.width,d.height),r("wFullRT1",d.width,d.height),r("wHalfRT0",d.halfWidth,d.halfHeight),r("wHalfRT1",d.halfWidth,d.halfHeight)}function X(){W()}var j=!0;function G(){var r=new Date;s.elapsed=(r-s.start)/1e3,s.delta=(r-s.prev)/1e3,s.prev=r,j&&requestAnimationFrame(G),X()}function V(r){var t=document.body,n=document.documentElement,e=Math.max(t.clientWidth,t.scrollWidth,n.scrollWidth,n.clientWidth),o=Math.max(t.clientHeight,t.scrollHeight,n.scrollHeight,n.clientHeight);r.width=e,r.height=o}var Z=document.getElementById("sakura");try{V(Z),l=Z.getContext("experimental-webgl")}catch(q){return alert("WebGL not supported."+q),void console.error(q)}window.addEventListener("resize",Y),k(),N(),H(),s.start=new Date,s.prev=s.start,G(),function(r,t){r["r"+t]=r["r"+t]||r["webkitR"+t]||r["mozR"+t]||r["msR"+t]||r["oR"+t]||function(t){r.setTimeout(t,1e3/60)}}(window,"equestAnimationFrame")}}]),t}(s["d"]);d=Object(l["a"])([Object(s["a"])({})],d);var v=d,h=v,m=(n("d763"),n("2877")),p=Object(m["a"])(h,e,o,!1,null,"b9f72978",null);t["default"]=p.exports},ba92:function(r,t,n){"use strict";var e=n("4bf8"),o=n("77f1"),i=n("9def");r.exports=[].copyWithin||function(r,t){var n=e(this),a=i(n.length),f=o(r,a),u=o(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:o(c,a))-u,a-f),s=1;u<f&&f<u+l&&(s=-1,u+=l-1,f+=l-1);while(l-- >0)u in n?n[f]=n[u]:delete n[f],f+=s,u+=s;return n}},cd1c:function(r,t,n){var e=n("e853");r.exports=function(r,t){return new(e(r))(t)}},d763:function(r,t,n){"use strict";var e=n("04d3"),o=n.n(e);o.a},e853:function(r,t,n){var e=n("d3f4"),o=n("1169"),i=n("2b4c")("species");r.exports=function(r){var t;return o(r)&&(t=r.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),e(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?Array:t}},ec30:function(r,t,n){"use strict";if(n("9e1e")){var e=n("2d00"),o=n("7726"),i=n("79e5"),a=n("5ca1"),f=n("0f88"),u=n("ed0b"),c=n("9b43"),l=n("f605"),s=n("4630"),d=n("32e9"),v=n("dcbc"),h=n("4588"),m=n("9def"),p=n("09fa"),y=n("77f1"),g=n("6a99"),E=n("69a8"),w=n("23c6"),x=n("d3f4"),A=n("4bf8"),b=n("33a4"),R=n("2aeb"),F=n("38fd"),T=n("9093").f,_=n("27ee"),B=n("ca5a"),P=n("2b4c"),D=n("0a49"),z=n("c366"),S=n("ebd6"),C=n("cadf"),I=n("84f2"),O=n("5cc5"),M=n("7a56"),U=n("36bd"),L=n("ba92"),N=n("86cc"),H=n("11e9"),W=N.f,Y=H.f,k=o.RangeError,X=o.TypeError,j=o.Uint8Array,G="ArrayBuffer",V="Shared"+G,Z="BYTES_PER_ELEMENT",q="prototype",J=Array[q],$=u.ArrayBuffer,K=u.DataView,Q=D(0),rr=D(2),tr=D(3),nr=D(4),er=D(5),or=D(6),ir=z(!0),ar=z(!1),fr=C.values,ur=C.keys,cr=C.entries,lr=J.lastIndexOf,sr=J.reduce,dr=J.reduceRight,vr=J.join,hr=J.sort,mr=J.slice,pr=J.toString,yr=J.toLocaleString,gr=P("iterator"),Er=P("toStringTag"),wr=B("typed_constructor"),xr=B("def_constructor"),Ar=f.CONSTR,br=f.TYPED,Rr=f.VIEW,Fr="Wrong length!",Tr=D(1,(function(r,t){return zr(S(r,r[xr]),t)})),_r=i((function(){return 1===new j(new Uint16Array([1]).buffer)[0]})),Br=!!j&&!!j[q].set&&i((function(){new j(1).set({})})),Pr=function(r,t){var n=h(r);if(n<0||n%t)throw k("Wrong offset!");return n},Dr=function(r){if(x(r)&&br in r)return r;throw X(r+" is not a typed array!")},zr=function(r,t){if(!(x(r)&&wr in r))throw X("It is not a typed array constructor!");return new r(t)},Sr=function(r,t){return Cr(S(r,r[xr]),t)},Cr=function(r,t){var n=0,e=t.length,o=zr(r,e);while(e>n)o[n]=t[n++];return o},Ir=function(r,t,n){W(r,t,{get:function(){return this._d[n]}})},Or=function(r){var t,n,e,o,i,a,f=A(r),u=arguments.length,l=u>1?arguments[1]:void 0,s=void 0!==l,d=_(f);if(void 0!=d&&!b(d)){for(a=d.call(f),e=[],t=0;!(i=a.next()).done;t++)e.push(i.value);f=e}for(s&&u>2&&(l=c(l,arguments[2],2)),t=0,n=m(f.length),o=zr(this,n);n>t;t++)o[t]=s?l(f[t],t):f[t];return o},Mr=function(){var r=0,t=arguments.length,n=zr(this,t);while(t>r)n[r]=arguments[r++];return n},Ur=!!j&&i((function(){yr.call(new j(1))})),Lr=function(){return yr.apply(Ur?mr.call(Dr(this)):Dr(this),arguments)},Nr={copyWithin:function(r,t){return L.call(Dr(this),r,t,arguments.length>2?arguments[2]:void 0)},every:function(r){return nr(Dr(this),r,arguments.length>1?arguments[1]:void 0)},fill:function(r){return U.apply(Dr(this),arguments)},filter:function(r){return Sr(this,rr(Dr(this),r,arguments.length>1?arguments[1]:void 0))},find:function(r){return er(Dr(this),r,arguments.length>1?arguments[1]:void 0)},findIndex:function(r){return or(Dr(this),r,arguments.length>1?arguments[1]:void 0)},forEach:function(r){Q(Dr(this),r,arguments.length>1?arguments[1]:void 0)},indexOf:function(r){return ar(Dr(this),r,arguments.length>1?arguments[1]:void 0)},includes:function(r){return ir(Dr(this),r,arguments.length>1?arguments[1]:void 0)},join:function(r){return vr.apply(Dr(this),arguments)},lastIndexOf:function(r){return lr.apply(Dr(this),arguments)},map:function(r){return Tr(Dr(this),r,arguments.length>1?arguments[1]:void 0)},reduce:function(r){return sr.apply(Dr(this),arguments)},reduceRight:function(r){return dr.apply(Dr(this),arguments)},reverse:function(){var r,t=this,n=Dr(t).length,e=Math.floor(n/2),o=0;while(o<e)r=t[o],t[o++]=t[--n],t[n]=r;return t},some:function(r){return tr(Dr(this),r,arguments.length>1?arguments[1]:void 0)},sort:function(r){return hr.call(Dr(this),r)},subarray:function(r,t){var n=Dr(this),e=n.length,o=y(r,e);return new(S(n,n[xr]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,m((void 0===t?e:y(t,e))-o))}},Hr=function(r,t){return Sr(this,mr.call(Dr(this),r,t))},Wr=function(r){Dr(this);var t=Pr(arguments[1],1),n=this.length,e=A(r),o=m(e.length),i=0;if(o+t>n)throw k(Fr);while(i<o)this[t+i]=e[i++]},Yr={entries:function(){return cr.call(Dr(this))},keys:function(){return ur.call(Dr(this))},values:function(){return fr.call(Dr(this))}},kr=function(r,t){return x(r)&&r[br]&&"symbol"!=typeof t&&t in r&&String(+t)==String(t)},Xr=function(r,t){return kr(r,t=g(t,!0))?s(2,r[t]):Y(r,t)},jr=function(r,t,n){return!(kr(r,t=g(t,!0))&&x(n)&&E(n,"value"))||E(n,"get")||E(n,"set")||n.configurable||E(n,"writable")&&!n.writable||E(n,"enumerable")&&!n.enumerable?W(r,t,n):(r[t]=n.value,r)};Ar||(H.f=Xr,N.f=jr),a(a.S+a.F*!Ar,"Object",{getOwnPropertyDescriptor:Xr,defineProperty:jr}),i((function(){pr.call({})}))&&(pr=yr=function(){return vr.call(this)});var Gr=v({},Nr);v(Gr,Yr),d(Gr,gr,Yr.values),v(Gr,{slice:Hr,set:Wr,constructor:function(){},toString:pr,toLocaleString:Lr}),Ir(Gr,"buffer","b"),Ir(Gr,"byteOffset","o"),Ir(Gr,"byteLength","l"),Ir(Gr,"length","e"),W(Gr,Er,{get:function(){return this[br]}}),r.exports=function(r,t,n,u){u=!!u;var c=r+(u?"Clamped":"")+"Array",s="get"+r,v="set"+r,h=o[c],y=h||{},g=h&&F(h),E=!h||!f.ABV,A={},b=h&&h[q],_=function(r,n){var e=r._d;return e.v[s](n*t+e.o,_r)},B=function(r,n,e){var o=r._d;u&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),o.v[v](n*t+o.o,e,_r)},P=function(r,t){W(r,t,{get:function(){return _(this,t)},set:function(r){return B(this,t,r)},enumerable:!0})};E?(h=n((function(r,n,e,o){l(r,h,c,"_d");var i,a,f,u,s=0,v=0;if(x(n)){if(!(n instanceof $||(u=w(n))==G||u==V))return br in n?Cr(h,n):Or.call(h,n);i=n,v=Pr(e,t);var y=n.byteLength;if(void 0===o){if(y%t)throw k(Fr);if(a=y-v,a<0)throw k(Fr)}else if(a=m(o)*t,a+v>y)throw k(Fr);f=a/t}else f=p(n),a=f*t,i=new $(a);d(r,"_d",{b:i,o:v,l:a,e:f,v:new K(i)});while(s<f)P(r,s++)})),b=h[q]=R(Gr),d(b,"constructor",h)):i((function(){h(1)}))&&i((function(){new h(-1)}))&&O((function(r){new h,new h(null),new h(1.5),new h(r)}),!0)||(h=n((function(r,n,e,o){var i;return l(r,h,c),x(n)?n instanceof $||(i=w(n))==G||i==V?void 0!==o?new y(n,Pr(e,t),o):void 0!==e?new y(n,Pr(e,t)):new y(n):br in n?Cr(h,n):Or.call(h,n):new y(p(n))})),Q(g!==Function.prototype?T(y).concat(T(g)):T(y),(function(r){r in h||d(h,r,y[r])})),h[q]=b,e||(b.constructor=h));var D=b[gr],z=!!D&&("values"==D.name||void 0==D.name),S=Yr.values;d(h,wr,!0),d(b,br,c),d(b,Rr,!0),d(b,xr,h),(u?new h(1)[Er]==c:Er in b)||W(b,Er,{get:function(){return c}}),A[c]=h,a(a.G+a.W+a.F*(h!=y),A),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*i((function(){y.of.call(h,1)})),c,{from:Or,of:Mr}),Z in b||d(b,Z,t),a(a.P,c,Nr),M(c),a(a.P+a.F*Br,c,{set:Wr}),a(a.P+a.F*!z,c,Yr),e||b.toString==pr||(b.toString=pr),a(a.P+a.F*i((function(){new h(1).slice()})),c,{slice:Hr}),a(a.P+a.F*(i((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!i((function(){b.toLocaleString.call([1,2])}))),c,{toLocaleString:Lr}),I[c]=z?D:S,e||z||d(b,gr,S)}}else r.exports=function(){}},ed0b:function(r,t,n){"use strict";var e=n("7726"),o=n("9e1e"),i=n("2d00"),a=n("0f88"),f=n("32e9"),u=n("dcbc"),c=n("79e5"),l=n("f605"),s=n("4588"),d=n("9def"),v=n("09fa"),h=n("9093").f,m=n("86cc").f,p=n("36bd"),y=n("7f20"),g="ArrayBuffer",E="DataView",w="prototype",x="Wrong length!",A="Wrong index!",b=e[g],R=e[E],F=e.Math,T=e.RangeError,_=e.Infinity,B=b,P=F.abs,D=F.pow,z=F.floor,S=F.log,C=F.LN2,I="buffer",O="byteLength",M="byteOffset",U=o?"_b":I,L=o?"_l":O,N=o?"_o":M;function H(r,t,n){var e,o,i,a=new Array(n),f=8*n-t-1,u=(1<<f)-1,c=u>>1,l=23===t?D(2,-24)-D(2,-77):0,s=0,d=r<0||0===r&&1/r<0?1:0;for(r=P(r),r!=r||r===_?(o=r!=r?1:0,e=u):(e=z(S(r)/C),r*(i=D(2,-e))<1&&(e--,i*=2),r+=e+c>=1?l/i:l*D(2,1-c),r*i>=2&&(e++,i/=2),e+c>=u?(o=0,e=u):e+c>=1?(o=(r*i-1)*D(2,t),e+=c):(o=r*D(2,c-1)*D(2,t),e=0));t>=8;a[s++]=255&o,o/=256,t-=8);for(e=e<<t|o,f+=t;f>0;a[s++]=255&e,e/=256,f-=8);return a[--s]|=128*d,a}function W(r,t,n){var e,o=8*n-t-1,i=(1<<o)-1,a=i>>1,f=o-7,u=n-1,c=r[u--],l=127&c;for(c>>=7;f>0;l=256*l+r[u],u--,f-=8);for(e=l&(1<<-f)-1,l>>=-f,f+=t;f>0;e=256*e+r[u],u--,f-=8);if(0===l)l=1-a;else{if(l===i)return e?NaN:c?-_:_;e+=D(2,t),l-=a}return(c?-1:1)*e*D(2,l-t)}function Y(r){return r[3]<<24|r[2]<<16|r[1]<<8|r[0]}function k(r){return[255&r]}function X(r){return[255&r,r>>8&255]}function j(r){return[255&r,r>>8&255,r>>16&255,r>>24&255]}function G(r){return H(r,52,8)}function V(r){return H(r,23,4)}function Z(r,t,n){m(r[w],t,{get:function(){return this[n]}})}function q(r,t,n,e){var o=+n,i=v(o);if(i+t>r[L])throw T(A);var a=r[U]._b,f=i+r[N],u=a.slice(f,f+t);return e?u:u.reverse()}function J(r,t,n,e,o,i){var a=+n,f=v(a);if(f+t>r[L])throw T(A);for(var u=r[U]._b,c=f+r[N],l=e(+o),s=0;s<t;s++)u[c+s]=l[i?s:t-s-1]}if(a.ABV){if(!c((function(){b(1)}))||!c((function(){new b(-1)}))||c((function(){return new b,new b(1.5),new b(NaN),b.name!=g}))){b=function(r){return l(this,b),new B(v(r))};for(var $,K=b[w]=B[w],Q=h(B),rr=0;Q.length>rr;)($=Q[rr++])in b||f(b,$,B[$]);i||(K.constructor=b)}var tr=new R(new b(2)),nr=R[w].setInt8;tr.setInt8(0,2147483648),tr.setInt8(1,2147483649),!tr.getInt8(0)&&tr.getInt8(1)||u(R[w],{setInt8:function(r,t){nr.call(this,r,t<<24>>24)},setUint8:function(r,t){nr.call(this,r,t<<24>>24)}},!0)}else b=function(r){l(this,b,g);var t=v(r);this._b=p.call(new Array(t),0),this[L]=t},R=function(r,t,n){l(this,R,E),l(r,b,E);var e=r[L],o=s(t);if(o<0||o>e)throw T("Wrong offset!");if(n=void 0===n?e-o:d(n),o+n>e)throw T(x);this[U]=r,this[N]=o,this[L]=n},o&&(Z(b,O,"_l"),Z(R,I,"_b"),Z(R,O,"_l"),Z(R,M,"_o")),u(R[w],{getInt8:function(r){return q(this,1,r)[0]<<24>>24},getUint8:function(r){return q(this,1,r)[0]},getInt16:function(r){var t=q(this,2,r,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(r){var t=q(this,2,r,arguments[1]);return t[1]<<8|t[0]},getInt32:function(r){return Y(q(this,4,r,arguments[1]))},getUint32:function(r){return Y(q(this,4,r,arguments[1]))>>>0},getFloat32:function(r){return W(q(this,4,r,arguments[1]),23,4)},getFloat64:function(r){return W(q(this,8,r,arguments[1]),52,8)},setInt8:function(r,t){J(this,1,r,k,t)},setUint8:function(r,t){J(this,1,r,k,t)},setInt16:function(r,t){J(this,2,r,X,t,arguments[2])},setUint16:function(r,t){J(this,2,r,X,t,arguments[2])},setInt32:function(r,t){J(this,4,r,j,t,arguments[2])},setUint32:function(r,t){J(this,4,r,j,t,arguments[2])},setFloat32:function(r,t){J(this,4,r,V,t,arguments[2])},setFloat64:function(r,t){J(this,8,r,G,t,arguments[2])}});y(b,g),y(R,E),f(R[w],a.VIEW,!0),t[g]=b,t[E]=R}}]);